{"version":3,"sources":["uni-app:///main.js","webpack:///D:/程序/uniapp_demo2/pages/category/category.vue?e17b","webpack:///D:/程序/uniapp_demo2/pages/category/category.vue?2e09","webpack:///D:/程序/uniapp_demo2/pages/category/category.vue?e2d3","webpack:///D:/程序/uniapp_demo2/pages/category/category.vue?9ca1","uni-app:///pages/category/category.vue","webpack:///D:/程序/uniapp_demo2/pages/category/category.vue?34ad","webpack:///D:/程序/uniapp_demo2/pages/category/category.vue?b8f8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","scrollHeight","category","active","view","products","cateData","toast","type","title","message","iconUrl","toast1","scrollTop","old","onLoad","created","uni","url","method","success","error","console","methods","setScorllHeight","handleDefault","handleDefault1","flag","tempName","proCate","name","len","cateHeight","temp","cateTotalHeight","listCate","jindex","list","count","id","checkFav","favUser","favFlag","changeImage","image","changeActive","rightScroll","info"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AAC0M;AAC1M,gBAAgB,oNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAwyB,CAAgB,qzBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0B5zB;AACA;AACA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAJ;QACAC;QACAC;QACAC;MACA;MACAE;MACAC;QACAD;MACA;MACA;IACA;EACA;EAEAE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAC;IAAA;IACAC;MACAC;MACAC;MACAC;QACA;QACA;QACA;QACA;MACA;;MACAC;QACAC;MACA;IACA;IAEAA;EACA;EAEAC;IACA;IACAC;MACA;MACAP;QACAG;UACAnB;QACA;MACA;MACA;IACA;IACAwB;MAAA;MACA;QACA;QACAR;UACAC;UACAC;UACAC;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;UACA;UACAC;YACAC;UACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;QACA;QACAA;QACA;QACA;UACA;QACA;UACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IAEAI;MACA;MACA;MACA;MACA;QACAC;QACA;QACA;UACA;YACAC;UACA;YACA;cACA;gBACAC;gBACAF;cACA;YACA;UACA;QACA;QACA;UACA;YACAG;YACAC;UACA;UACAF;QACA;MACA;MACA;MACAP;MACA;MACA;MACA;QACAU;MACA;MACAA;MACAV;MACA;QACA;QACA;UACAW;QACA;QACAC;MACA;MACAA;MACAZ;MACA;IACA;IAEAa;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACA;YACAC;YACA;UACA;QACA;QACA;UACAC;UACAC;QACA;UACAD;UACAC;QACA;QACAtC;QACAqC;QACAC;QACA;QACA;MACA;MACA;QACAC;QACAT;QACAO;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEAE;MACA;QACA;QACA;UACA;UACA;UACA;YACAC;YACA;cACA;gBACAC;gBACA;cACA;YACA;YACA1C;UACA;QACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA2C;MACA;QACA;QACA;UACA;UACAC;UACAP;QACA;QACA;MACA;IACA;IAEAQ;MACA;IACA;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAAA,CACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;AC9VA;AAAA;AAAA;AAAA;AAA++C,CAAgB,g8CAAG,EAAC,C;;;;;;;;;;;ACAngD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/category/category.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/category/category.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./category.vue?vue&type=template&id=682a9774&\"\nvar renderjs\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./category.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/category/category.vue\"\nexport default component.exports","export * from \"-!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=template&id=682a9774&\"","var components\ntry {\n  components = {\n    topSearch: function () {\n      return import(\n        /* webpackChunkName: \"components/topSearch/topSearch\" */ \"@/components/topSearch/topSearch.vue\"\n      )\n    },\n    proList: function () {\n      return import(\n        /* webpackChunkName: \"components/proList/proList\" */ \"@/components/proList/proList.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"cate-container\">\r\n\t\t<topSearch></topSearch>\r\n\t\t<view class=\"cate-container-box\">\r\n\t\t\t<view class=\"box-left\">\r\n\t\t\t\t<scroll-view scroll-y=\"true\" :style=\"{height: scrollHeight + 'px'}\">\r\n\t\t\t\t\t<view v-for=\"item in category\" @click=\"changeActive(item.id)\"\r\n\t\t\t\t\t\t:class=\"active==view+item.id?'cur':''\">\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t<li>{{item.id}} - {{item.name}}</li>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box-right\">\r\n\t\t\t\t<scroll-view :scroll-into-view=\"active\" scroll-y=\"true\" :style=\"{height: scrollHeight + 'px'}\"\r\n\t\t\t\t\t@scroll=\"rightScroll\">\r\n\t\t\t\t\t<proList v-for=\"(item, index) in category\" :products=\"item.list\" :id=\"view+item.id\"></proList>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <login :loginShow=\"loginShow\" :registerShow.sync=\"registerShow\"></login>\r\n\t\t<register :registerShow.sync=\"registerShow\" :loginShow=\"loginShow\"></register> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// import {\r\n\t// \tmapActions,\r\n\t// \tmapGetters\r\n\t// } from \"vuex\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscrollHeight: \"\",\r\n\t\t\t\tcategory: \"\",\r\n\t\t\t\tactive: \"view0\",\r\n\t\t\t\tview: \"view\",\r\n\t\t\t\tproducts: \"\",\r\n\t\t\t\tcateData: \"\",\r\n\t\t\t\ttoast: {\r\n\t\t\t\t\ttype: 'loading',\r\n\t\t\t\t\ttitle: '正在加载',\r\n\t\t\t\t\tmessage: \"正在加载\",\r\n\t\t\t\t\ticonUrl: 'https://cdn.uviewui.com/uview/demo/toast/loading.png'\r\n\t\t\t\t},\r\n\t\t\t\ttoast1: {\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\ttitle: '失败',\r\n\t\t\t\t\tmessage: \"没有更多啦\",\r\n\t\t\t\t\ticonUrl: 'https://cdn.uviewui.com/uview/demo/toast/default.png'\r\n\t\t\t\t},\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\told: {\r\n\t\t\t\t\tscrollTop: 0\r\n\t\t\t\t},\r\n\t\t\t\t// registerShow: false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad() {\r\n\t\t\tthis.scrollHeight = this.setScorllHeight();\r\n\t\t\t// if (uni.getStorageSync(\"categoryid\") == -1) {\r\n\t\t\t// \t// this.active = this.view + \"0\";\r\n\t\t\t// \tthis.changeActive(0);\r\n\t\t\t// } else {\r\n\t\t\t// \tlet categoryid = uni.getStorageSync(\"categoryid\");\r\n\t\t\t// \t// this.active = this.view + categoryid;\r\n\t\t\t// \tthis.changeActive(categoryid);\r\n\t\t\t// }\r\n\t\t},\r\n\t\t// computed: {\r\n\t\t// \t...mapGetters([\"getUser\", \"getLoginShow\"]),\r\n\t\t// \tloginShow: {\r\n\t\t// \t\tget() {\r\n\t\t// \t\t\treturn this.$store.getters.getLoginShow;\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// },\r\n\r\n\t\tcreated() {\r\n\t\t\tuni.request({\r\n\t\t\t\turl: this.$baseUrl + '/api/category/list',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tsuccess: (res => {\r\n\t\t\t\t\t// console.log(JSON.stringify(res.data));\r\n\t\t\t\t\tthis.category = res.data.data;\r\n\t\t\t\t\tthis.handleDefault(true, -1);\r\n\t\t\t\t\t// this.changeImage();\r\n\t\t\t\t}),\r\n\t\t\t\terror: (err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tconsole.log(\"active:\" + this.active);\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// ...mapActions([\"setShowLogin\"]),\r\n\t\t\tsetScorllHeight() {\r\n\t\t\t\tlet scrollHeight = 0;\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tscrollHeight = res.windowHeight - 56;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn scrollHeight;\r\n\t\t\t},\r\n\t\t\thandleDefault(rear, active) {\r\n\t\t\t\tif (rear) {\r\n\t\t\t\t\tlet products = \"\";\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: this.$baseUrl + '/api/products/list',\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tsuccess: (res => {\r\n\t\t\t\t\t\t\t// console.log(JSON.stringify(res.data));\r\n\t\t\t\t\t\t\t// products = res.data.data;\r\n\t\t\t\t\t\t\t// products = products.reverse();\r\n\t\t\t\t\t\t\t// this.totalLen = products.length;\r\n\t\t\t\t\t\t\t// this.products = products;\r\n\t\t\t\t\t\t\t// this.products.forEach(function(item) {\r\n\t\t\t\t\t\t\t// \tlet image = item.image;\r\n\t\t\t\t\t\t\t// \timage = '/' + image;\r\n\t\t\t\t\t\t\t// \titem.image = image;\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t// this.handleDefault1();\r\n\t\t\t\t\t\t\tthis.checkFav(res.data.data);\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\terror: (err => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// for (var i = 0; i < this.category.length; i++) {\r\n\t\t\t\t\t// \tlet categoryName = this.category[i].name;\r\n\t\t\t\t\t// \tuni.request({\r\n\t\t\t\t\t// \t\turl: this.$baseUrl + '/api/products/list?category=' + this.category[i].name,\r\n\t\t\t\t\t// \t\tmethod: 'GET',\r\n\t\t\t\t\t// \t\tsuccess: (res => {\r\n\t\t\t\t\t// \t\t\t// console.log(JSON.stringify(res.data));\r\n\t\t\t\t\t// \t\t\tproducts = products.concat(res.data.data);\r\n\t\t\t\t\t// \t\t\tlet len = products.length;\r\n\t\t\t\t\t// \t\t\tthis.products = this.products.concat(res.data.data);\r\n\t\t\t\t\t// \t\t\tthis.checkLen(res.data.data);\r\n\t\t\t\t\t// \t\t}),\r\n\t\t\t\t\t// \t\terror: (err => {\r\n\t\t\t\t\t// \t\t\tconsole.log(err);\r\n\t\t\t\t\t// \t\t})\r\n\t\t\t\t\t// \t})\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.active = active;\r\n\t\t\t\t\tconsole.log(\"handle-active:\" + active);\r\n\t\t\t\t\tlet cateTotalHeight = this.cateTotalHeight;\r\n\t\t\t\t\tif (active == 0) {\r\n\t\t\t\t\t\tthis.scrollTop = 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.scrollTop = this.old.scrollTop;\r\n\t\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\t\tthis.scrollTop = cateTotalHeight[active - 1];\r\n\t\t\t\t\t\t\tthis.scrollTop += 5;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\thandleDefault1() {\r\n\t\t\t\tlet proCate = [];\r\n\t\t\t\tlet flag = false;\r\n\t\t\t\tlet tempName = \"\";\r\n\t\t\t\tfor (var i = 0; i < this.products.length; i++) {\r\n\t\t\t\t\tflag = false;\r\n\t\t\t\t\tlet j;\r\n\t\t\t\t\tfor (j = 0; j < this.category.length; j++) {\r\n\t\t\t\t\t\tif (this.products[i].category != this.category[j].name) {\r\n\t\t\t\t\t\t\ttempName = this.products[i].category;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var k = 0; k < proCate.length; k++) {\r\n\t\t\t\t\t\t\t\tif (this.category[j].name === proCate[k].name) {\r\n\t\t\t\t\t\t\t\t\tproCate[k].len++;\r\n\t\t\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (j == this.category.length && !flag) {\r\n\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\tname: tempName,\r\n\t\t\t\t\t\t\tlen: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tproCate.unshift(obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.proCate = proCate;\r\n\t\t\t\tconsole.log(\"this.proCate:\" + JSON.stringify(this.proCate));\r\n\t\t\t\tlet cateHeight = [];\r\n\t\t\t\tlet cateTotalHeight = [];\r\n\t\t\t\tfor (var i = 0; i < this.proCate.length; i++) {\r\n\t\t\t\t\tcateHeight[i] = this.proCate[i].len * 80;\r\n\t\t\t\t}\r\n\t\t\t\tcateHeight.unshift(this.totalLen * 80);\r\n\t\t\t\tconsole.log(\"cateHeight:\" + JSON.stringify(cateHeight));\r\n\t\t\t\tfor (var j = 0; j < cateHeight.length; j++) {\r\n\t\t\t\t\tlet temp = 0;\r\n\t\t\t\t\tfor (var k = 0; k <= j; k++) {\r\n\t\t\t\t\t\ttemp += cateHeight[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcateTotalHeight[j] = (temp + this.scrollHeight);\r\n\t\t\t\t}\r\n\t\t\t\tcateTotalHeight[0] = (this.totalLen * 80 + this.scrollHeight);\r\n\t\t\t\tconsole.log(\"cateTotalHeight:\" + JSON.stringify(cateTotalHeight));\r\n\t\t\t\tthis.cateTotalHeight = cateTotalHeight;\r\n\t\t\t},\r\n\r\n\t\t\tlistCate(data) {\r\n\t\t\t\t// this.category[3].list = [{id: 1, name: \"zhangsan\"}];\r\n\t\t\t\t// for (var j = 0; j < this.category.length; j++) {\r\n\t\t\t\t// \tif (!this.category[j].list) {\r\n\t\t\t\t// \t\tconsole.log(\"j:\" + j);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\tlet list, count;\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tlet jindex = -1;\r\n\t\t\t\t\tfor (var j = 0; j < this.category.length; j++) {\r\n\t\t\t\t\t\tif (data[i].category == this.category[j].name) {\r\n\t\t\t\t\t\t\tjindex = j;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.category[jindex].list) {\r\n\t\t\t\t\t\tlist = [];\r\n\t\t\t\t\t\tcount = 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlist = this.category[jindex].list;\r\n\t\t\t\t\t\tcount = this.category[jindex].count;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata[i].image = '/' + data[i].image;\r\n\t\t\t\t\tlist.unshift(data[i]);\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tthis.category[jindex].list = list;\r\n\t\t\t\t\tthis.category[jindex].count = count;\r\n\t\t\t\t}\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tname: '全部',\r\n\t\t\t\t\tlist: data,\r\n\t\t\t\t\tcount: data.length\r\n\t\t\t\t}\r\n\t\t\t\tthis.category.unshift(obj);\r\n\t\t\t\t// this.changeImage();\r\n\t\t\t\t// for (var j = 0; j < this.category.length; j++) {\r\n\t\t\t\t// \tconsole.log(\"j:\" + j + \",count:\" + this.category[j].count);\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\r\n\t\t\tcheckFav(data) {\r\n\t\t\t\tif (uni.getStorageSync(\"userid\") != '') {\r\n\t\t\t\t\tlet userid = uni.getStorageSync(\"userid\");\r\n\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\tlet favFlag = false;\r\n\t\t\t\t\t\tlet favUser = data[i].favuser;\r\n\t\t\t\t\t\tif (favUser != \"\") {\r\n\t\t\t\t\t\t\tfavUser = favUser.split(\";\");\r\n\t\t\t\t\t\t\tfor (var j = 0; j < favUser.length; j++) {\r\n\t\t\t\t\t\t\t\tif (favUser[j] == userid) {\r\n\t\t\t\t\t\t\t\t\tfavFlag = true;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdata[i].fav = favFlag;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// for (var i = 0; i < 10; i++) {\r\n\t\t\t\t// \tconsole.log(\"favFlag:\" + data[i].fav);\r\n\t\t\t\t// }\r\n\t\t\t\tthis.listCate(data);\r\n\t\t\t},\r\n\r\n\t\t\tchangeImage() {\r\n\t\t\t\tfor (var i = 0; i < this.category.length; i++) {\r\n\t\t\t\t\tlet list = this.category[i].list;\r\n\t\t\t\t\tfor (var j = 0; j < list.length; j++) {\r\n\t\t\t\t\t\tlet image = list[j].image;\r\n\t\t\t\t\t\timage = '/' + image;\r\n\t\t\t\t\t\tlist[j].image = image;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.category[i].list = list;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tchangeActive(num) {\r\n\t\t\t\tthis.active = this.view + num;\r\n\t\t\t},\r\n\r\n\t\t\trightScroll(e) {\r\n\t\t\t\tlet info = uni.createSelectorQuery().selectAll(\".pro-list-content\");\r\n\t\t\t\tlet itemHeight = [];\r\n\t\t\t\tlet scrollTop = e.detail.scrollTop;\r\n\t\t\t\tlet scrollHeight = this.scrollHeight;\r\n\t\t\t\tlet active = this.active;\r\n\t\t\t\tlet view = this.view;\r\n\t\t\t\t// let active = this.active;\r\n\t\t\t\t// let activeList = active.split(\"view\");\r\n\t\t\t\t// console.log(\"activeList:\" + JSON.stringify(activeList));\r\n\t\t\t\t// console.log(\"scrollTop:\" + e.detail.scrollTop);\r\n\t\t\t\t// console.log(\"view:\" + this.view);\r\n\t\t\t\tinfo.boundingClientRect(function(data) {\r\n\t\t\t\t\t// let active1 = active;\r\n\t\t\t\t\t// console.log(\"active1:\" + active1);\r\n\t\t\t\t\t// for (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t// \titemHeight.push(data[i].height);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// for (var j = 0; j < itemHeight.length; j++) {\r\n\t\t\t\t\t// \titemHeight[j] -= scrollHeight;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// console.log(\"itemHeight:\" + JSON.stringify(itemHeight));\r\n\t\t\t\t\t// let totalHeight = [];\r\n\t\t\t\t\t// for (var k = 0; k < itemHeight.length; k++){\r\n\t\t\t\t\t// \tlet temp = 0;\r\n\t\t\t\t\t// \tfor (var x = 0; x <= k; x++) {\r\n\t\t\t\t\t// \t\ttemp += itemHeight[x];\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \ttotalHeight[k] = temp;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// for (var y = 0; y < totalHeight.length; y++) {\r\n\t\t\t\t\t// \ttotalHeight[y] -= parseInt(scrollHeight / 2);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// console.log(\"totalHeight:\" + JSON.stringify(totalHeight));\r\n\t\t\t\t\t// let tempz = -1;\r\n\t\t\t\t\t// for (var z = 0; z < totalHeight.length - 1; z++) {\r\n\t\t\t\t\t// \tif (scrollTop > totalHeight[z] && scrollTop <= totalHeight[z+1]) {\r\n\t\t\t\t\t// \t\tconsole.log(\"z:\" + z);\r\n\t\t\t\t\t// \t\ttempz = z;\r\n\t\t\t\t\t// \t\tbreak;\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (tempz != -1) {\r\n\t\t\t\t\t// \tactive1 = view + ((tempz+1).toString());\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// console.log(\"after-active1:\" + active1);\r\n\t\t\t\t\t// return data;\r\n\t\t\t\t\t// this.active = active;\r\n\t\t\t\t\t// Vue.set(this.active, active);\r\n\t\t\t\t\t// console.log(\"this.active:\" + this.active);\r\n\t\t\t\t\t// this.$forceUpdate();\r\n\t\t\t\t}).exec()\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.cate-container {\r\n\r\n\t\t.cate-container-box {\r\n\t\t\tmargin-top: 15px;\r\n\r\n\t\t\t.box-left {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twidth: 23%;\r\n\t\t\t\tbackground-color: whitesmoke;\r\n\t\t\t\tfont-size: 13px;\r\n\r\n\t\t\t\tview {\r\n\t\t\t\t\theight: 50px;\r\n\t\t\t\t\tline-height: 50px;\r\n\r\n\t\t\t\t\tli {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tvertical-align: top;\r\n\t\t\t\t\t\twidth: calc(100% - 3px);\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tlist-style: none;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tview.cur {\r\n\t\t\t\t\tbackground-color: white;\r\n\r\n\t\t\t\t\tspan {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\twidth: 3px;\r\n\t\t\t\t\t\theight: 50px;\r\n\t\t\t\t\t\tbackground-color: red;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.box-right {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tvertical-align: top;\r\n\t\t\t\twidth: 77%;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1713754727278\n      var cssReload = require(\"D:/program_files/HBuilderX.3.6.5.20221121/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}